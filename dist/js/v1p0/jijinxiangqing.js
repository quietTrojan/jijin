/*var trendDataArr=[
    [1.607, 1.622, 1.624, 1.654, 1.633, 1.617, 1.628, 1.626, 1.612, 1.672, 1.684, 1.689, 1.694, 1.717, 1.715, 1.714, 1.649, 1.662, 1.724, 1.731],
    [1.632, 1.623, 1.639, 1.612, 1.616, 1.609, 1.591, 1.647, 1.652, 1.64, 1.683, 1.676, 1.658, 1.642, 1.675, 1.671, 1.702, 1.707, 1.705, 1.695, 1.702, 1.634, 1.61, 1.628, 1.617, 1.641, 1.644, 1.645, 1.656, 1.713, 1.713, 1.715, 1.659, 1.6, 1.601, 1.594, 1.618, 1.621, 1.655, 1.641, 1.607, 1.622, 1.624, 1.654, 1.633, 1.617, 1.628, 1.626, 1.612, 1.672, 1.684, 1.689, 1.694, 1.717, 1.715, 1.714, 1.649, 1.662, 1.724, 1.731],
    [2.001,2.014,1.98,1.987,1.996,1.956,1.974,1.995,1.952,1.801,1.748,1.781,1.645,1.652,1.563,1.59,1.555,1.611,1.564,1.585,1.643,1.632,1.572,1.599,1.617,1.507,1.495,1.431,1.476,1.46,1.509,1.516,1.545,1.531,1.549,1.614,1.628,1.622,1.616,1.638,1.637,1.613,1.506,1.508,1.449,1.48,1.544,1.536,1.489,1.52,1.53,1.495,1.479,1.483,1.53,1.515,1.497,1.552,1.604,1.632,1.623,1.639,1.612,1.616,1.609,1.591,1.647,1.652,1.64,1.683,1.676,1.658,1.642,1.675,1.671,1.702,1.707,1.705,1.695,1.702,1.634,1.61,1.628,1.617,1.641,1.644,1.645,1.656,1.713,1.713,1.715,1.659,1.6,1.601,1.594,1.618,1.621,1.655,1.641,1.607,1.622,1.624,1.654,1.633,1.617,1.628,1.626,1.612,1.672,1.684,1.689,1.694,1.717,1.715,1.714,1.649,1.662,1.724,1.731],
    [2.235,2.3,2.223,2.052,1.941,2.012,1.925,1.814,1.719,1.671,1.581,1.514,1.584,1.66,1.726,1.736,1.676,1.696,1.764,1.779,1.797,1.796,1.837,1.822,1.702,1.682,1.735,1.688,1.668,1.644,1.708,1.694,1.691,1.731,1.803,1.798,1.757,1.792,1.798,1.802,1.673,1.705,1.654,1.564,1.438,1.362,1.371,1.438,1.502,1.464,1.409,1.399,1.385,1.44,1.483,1.465,1.473,1.398,1.354,1.444,1.425,1.441,1.497,1.496,1.49,1.497,1.452,1.486,1.473,1.471,1.527,1.547,1.602,1.614,1.589,1.639,1.652,1.643,1.664,1.563,1.623,1.666,1.687,1.693,1.661,1.672,1.69,1.676,1.677,1.758,1.759,1.811,1.847,1.867,1.902,1.88,1.821,1.877,1.855,1.817,1.894,1.947,1.917,1.947,2.009,2.014,1.901,1.934,1.89,1.85,1.911,1.912,1.947,1.937,1.947,1.935,1.901,1.898,1.937,1.97,2.031,2.014,2.001,2.014,1.98,1.987,1.996,1.956,1.974,1.995,1.952,1.801,1.748,1.781,1.645,1.652,1.563,1.59,1.555,1.611,1.564,1.585,1.643,1.632,1.572,1.599,1.617,1.507,1.495,1.431,1.476,1.46,1.509,1.516,1.545,1.531,1.549,1.614,1.628,1.622,1.616,1.638,1.637,1.613,1.506,1.508,1.449,1.48,1.544,1.536,1.489,1.52,1.53,1.495,1.479,1.483,1.53,1.515,1.497,1.552,1.604,1.632,1.623,1.639,1.612,1.616,1.609,1.591,1.647,1.652,1.64,1.683,1.676,1.658,1.642,1.675,1.671,1.702,1.707,1.705,1.695,1.702,1.634,1.61,1.628,1.617,1.641,1.644,1.645,1.656,1.713,1.713,1.715,1.659,1.6,1.601,1.594,1.618,1.621,1.655,1.641,1.607,1.622,1.624,1.654,1.633,1.617,1.628,1.626,1.612,1.672,1.684,1.689,1.694,1.717,1.715,1.714,1.649,1.662,1.724,1.731]
];*/
var trendDataArr=[
    [
        {
            "name":'first',
            "y":1
        },
        {
            "name":'second',
            "y":2
        },
        {
            "name":'third',
            "y":6
        },
        {
            "name":'four',
            "y":8
        }
    ],
    [1.632, 1.623, 1.639, 1.612, 1.616, 1.609, 1.591, 1.647, 1.652, 1.64, 1.683, 1.676, 1.658, 1.642, 1.675, 1.671, 1.702, 1.707, 1.705, 1.695, 1.702, 1.634, 1.61, 1.628, 1.617, 1.641, 1.644, 1.645, 1.656, 1.713, 1.713, 1.715, 1.659, 1.6, 1.601, 1.594, 1.618, 1.621, 1.655, 1.641, 1.607, 1.622, 1.624, 1.654, 1.633, 1.617, 1.628, 1.626, 1.612, 1.672, 1.684, 1.689, 1.694, 1.717, 1.715, 1.714, 1.649, 1.662, 1.724, 1.731],
    [2.001,2.014,1.98,1.987,1.996,1.956,1.974,1.995,1.952,1.801,1.748,1.781,1.645,1.652,1.563,1.59,1.555,1.611,1.564,1.585,1.643,1.632,1.572,1.599,1.617,1.507,1.495,1.431,1.476,1.46,1.509,1.516,1.545,1.531,1.549,1.614,1.628,1.622,1.616,1.638,1.637,1.613,1.506,1.508,1.449,1.48,1.544,1.536,1.489,1.52,1.53,1.495,1.479,1.483,1.53,1.515,1.497,1.552,1.604,1.632,1.623,1.639,1.612,1.616,1.609,1.591,1.647,1.652,1.64,1.683,1.676,1.658,1.642,1.675,1.671,1.702,1.707,1.705,1.695,1.702,1.634,1.61,1.628,1.617,1.641,1.644,1.645,1.656,1.713,1.713,1.715,1.659,1.6,1.601,1.594,1.618,1.621,1.655,1.641,1.607,1.622,1.624,1.654,1.633,1.617,1.628,1.626,1.612,1.672,1.684,1.689,1.694,1.717,1.715,1.714,1.649,1.662,1.724,1.731],
    [2.235,2.3,2.223,2.052,1.941,2.012,1.925,1.814,1.719,1.671,1.581,1.514,1.584,1.66,1.726,1.736,1.676,1.696,1.764,1.779,1.797,1.796,1.837,1.822,1.702,1.682,1.735,1.688,1.668,1.644,1.708,1.694,1.691,1.731,1.803,1.798,1.757,1.792,1.798,1.802,1.673,1.705,1.654,1.564,1.438,1.362,1.371,1.438,1.502,1.464,1.409,1.399,1.385,1.44,1.483,1.465,1.473,1.398,1.354,1.444,1.425,1.441,1.497,1.496,1.49,1.497,1.452,1.486,1.473,1.471,1.527,1.547,1.602,1.614,1.589,1.639,1.652,1.643,1.664,1.563,1.623,1.666,1.687,1.693,1.661,1.672,1.69,1.676,1.677,1.758,1.759,1.811,1.847,1.867,1.902,1.88,1.821,1.877,1.855,1.817,1.894,1.947,1.917,1.947,2.009,2.014,1.901,1.934,1.89,1.85,1.911,1.912,1.947,1.937,1.947,1.935,1.901,1.898,1.937,1.97,2.031,2.014,2.001,2.014,1.98,1.987,1.996,1.956,1.974,1.995,1.952,1.801,1.748,1.781,1.645,1.652,1.563,1.59,1.555,1.611,1.564,1.585,1.643,1.632,1.572,1.599,1.617,1.507,1.495,1.431,1.476,1.46,1.509,1.516,1.545,1.531,1.549,1.614,1.628,1.622,1.616,1.638,1.637,1.613,1.506,1.508,1.449,1.48,1.544,1.536,1.489,1.52,1.53,1.495,1.479,1.483,1.53,1.515,1.497,1.552,1.604,1.632,1.623,1.639,1.612,1.616,1.609,1.591,1.647,1.652,1.64,1.683,1.676,1.658,1.642,1.675,1.671,1.702,1.707,1.705,1.695,1.702,1.634,1.61,1.628,1.617,1.641,1.644,1.645,1.656,1.713,1.713,1.715,1.659,1.6,1.601,1.594,1.618,1.621,1.655,1.641,1.607,1.622,1.624,1.654,1.633,1.617,1.628,1.626,1.612,1.672,1.684,1.689,1.694,1.717,1.715,1.714,1.649,1.662,1.724,1.731]
];
function createPieBox(){
    $('#pieBox').highcharts({
        chart: {
            margin: 0,
            spacing:0,
            type: 'pie'
        },
        credits: {
            enabled:false
        },
        colors: ['#F98A97','#3DB1D7','#B18CCB','#FFDC84'],
        legend:{
            enabled:false
        },
        title: {
            text: '<div class="pieTitle"><p>总规模(万元)</p><p>2.345</p></div>',
            useHTML: true
        },
        tooltip: {
            enabled: false
        },
        plotOptions: {
            pie: {
                dataLabels: {
                    enabled:false
                },
                innerSize: '65',
                size:140,
                borderWidth: 0,
                states: {
                    hover: {
                        enabled: false
                    }
                }
            },
            //通用配置
            series: {
                animation: false
            }
        },
        series: [{
            data: [
                {
                    name: "股票",
                    y: 25
                },
                {
                    name: "债券",
                    y: 10
                },
                {
                    name: "银行",
                    y: 40
                },
                {
                    name: "其它",
                    y: 25
                }
            ]
            /*data: [
                {
                    name: "股票",
                    y: 125
                },
                {
                    name: "债券",
                    y: 0
                },
                {
                    name: "银行",
                    y: 0
                },
                {
                    name: "其它",
                    y: 0
                }
            ]*/
        }]
    });
}
$(function(){
    $('#trendBox').highcharts({
        chart: {
            spacingRight:0,
            //spacingBottom:0,
            //marginBottom:10,
            backgroundColor:'rgba(255,255,255,0)',
            animation:false
        },
        title: {
            text:null //让title标题隐藏
        },
        xAxis: {
            title: {
                text: null
            },
            lineWidth:0,
            tickWidth:0,
            labels: {
                enabled: true,
                formatter:function(){
                    console.log(this.axis);
                    return this.value;
                }
            }
        },
        yAxis: {
            title: {
                text:null
            },
            gridLineWidth:1,
            labels:{
                enabled:true
            }
        },
        tooltip: {
            enabled: false
        },
        legend: {
            enabled: false
        },
        plotOptions: {
            //区域图
            area: {
                fillColor: {
                    linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1},
                    stops: [
                        [0, 'rgba(255,156,60,0.3)'],
                        [1,'rgba(255,156,60,0)']
                    ]
                },
                lineColor:'#ff9c3c'
            },
            //通用配置
            series: {
                animation: false,
                lineWidth: 2,
                states: {
                    hover: {
                        enabled: false
                    }

                },
                marker: {
                    enabled: false,
                    states: {
                        hover: {
                            enabled: false
                        }
                    }
                }
            }
        },
        credits: {
            enabled: false // 禁用版权信息
        },
        series: [
            {
                type: 'area',
                data: trendDataArr[0].concat()
            }
        ]
    });


//    tab切换
    $('#tabHeader').on('click','li',function(){
        if($(this).hasClass('active')){
            return;
        }
        var curIndex=$(this).index();
        var tabContItems=$('#tabContWrap .tabContItem');
        $(this).siblings().removeClass('active');
        $(this).addClass('active');

        tabContItems.hide();
        tabContItems.eq(curIndex).show();
        if(curIndex==1 && !$(this).data('pieIsinit')){
            createPieBox();
            $(this).data('pieIsinit',true);
        }
    });

    $('#tabBtnBox').on('click','a',function(){
        var trendChart=$('#trendBox').highcharts();
        var curIndex=$(this).index();
        if($(this).hasClass('active')){
            return;
        }

        $(this).siblings().removeClass('active');
        $(this).addClass('active');
        trendChart.series[0].setData(trendDataArr[curIndex]);
        //console.log('trendChart的x轴',trendChart.series[0].data);
    });

});